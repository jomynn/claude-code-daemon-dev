<%
// Set layout variables
const pageTitle = 'Alerts & Notifications';
const pageDescription = 'Monitor system alerts, warnings, and notification settings for your Claude Code Daemon.';
%>

<%- include('partials/layout', {
    title,
    env,
    currentPage,
    pageTitle,
    pageDescription,
    body: `
    <!-- Alert Stats -->
    <div class="grid grid-4">
        <div class="stat-card">
            <div class="stat-value" id="total-alerts">0</div>
            <div class="stat-label">Total Alerts</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="critical-alerts">0</div>
            <div class="stat-label">Critical</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="warning-alerts">0</div>
            <div class="stat-label">Warnings</div>
        </div>
        <div class="stat-card">
            <div class="stat-value" id="info-alerts">0</div>
            <div class="stat-label">Info</div>
        </div>
    </div>

    <!-- Alert Controls -->
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">
                <i class="ti ti-settings"></i>
                Alert Settings
            </h2>
        </div>
        <div class="grid grid-2">
            <div class="form-group">
                <label class="form-label">Alert Level</label>
                <select class="form-input" id="alert-level">
                    <option value="all">All Alerts</option>
                    <option value="critical">Critical Only</option>
                    <option value="warning">Warning & Above</option>
                    <option value="info">Info & Above</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">Time Range</label>
                <select class="form-input" id="time-range">
                    <option value="1h">Last Hour</option>
                    <option value="24h">Last 24 Hours</option>
                    <option value="7d">Last 7 Days</option>
                    <option value="30d">Last 30 Days</option>
                </select>
            </div>
        </div>
        <div style="margin-top: var(--space-md);">
            <button class="btn btn-primary">
                <i class="ti ti-refresh"></i>
                Refresh Alerts
            </button>
            <button class="btn btn-secondary">
                <i class="ti ti-trash"></i>
                Clear All
            </button>
        </div>
    </div>

    <!-- Active Alerts -->
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">
                <i class="ti ti-bell-ringing"></i>
                Active Alerts
            </h2>
        </div>
        <div id="alerts-container">
            <div class="alert alert-error">
                <i class="ti ti-x-circle"></i>
                <div>
                    <strong>Critical Error</strong>
                    <p>API rate limit exceeded. Some requests may be throttled.</p>
                    <small>2 minutes ago</small>
                </div>
            </div>
            <div class="alert alert-warning">
                <i class="ti ti-alert-triangle"></i>
                <div>
                    <strong>High Memory Usage</strong>
                    <p>Memory usage is at 85%. Consider restarting the daemon.</p>
                    <small>15 minutes ago</small>
                </div>
            </div>
            <div class="alert alert-info">
                <i class="ti ti-info-circle"></i>
                <div>
                    <strong>System Update Available</strong>
                    <p>A new version of Claude Code Daemon is available for download.</p>
                    <small>1 hour ago</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Settings -->
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">
                <i class="ti ti-notification"></i>
                Notification Settings
            </h2>
        </div>
        <div class="grid grid-2">
            <div class="form-group">
                <label class="form-label">
                    <input type="checkbox" checked> Email Notifications
                </label>
                <p style="color: var(--text-secondary); font-size: var(--font-size-sm);">
                    Receive critical alerts via email
                </p>
            </div>
            <div class="form-group">
                <label class="form-label">
                    <input type="checkbox" checked> Slack Notifications
                </label>
                <p style="color: var(--text-secondary); font-size: var(--font-size-sm);">
                    Send alerts to configured Slack channels
                </p>
            </div>
            <div class="form-group">
                <label class="form-label">
                    <input type="checkbox"> Browser Notifications
                </label>
                <p style="color: var(--text-secondary); font-size: var(--font-size-sm);">
                    Show browser notifications for urgent alerts
                </p>
            </div>
            <div class="form-group">
                <label class="form-label">
                    <input type="checkbox" checked> Sound Alerts
                </label>
                <p style="color: var(--text-secondary); font-size: var(--font-size-sm);">
                    Play sound for critical alerts
                </p>
            </div>
        </div>
    </div>

    <style>
        .alert {
            display: flex;
            align-items: flex-start;
            gap: var(--space-md);
            margin-bottom: var(--space-md);
        }

        .alert i {
            margin-top: 2px;
            font-size: 18px;
        }

        .alert strong {
            display: block;
            margin-bottom: var(--space-xs);
        }

        .alert p {
            margin: 0 0 var(--space-xs) 0;
            font-size: var(--font-size-sm);
        }

        .alert small {
            color: var(--text-muted);
            font-size: var(--font-size-xs);
        }
    </style>
    `
}) %>